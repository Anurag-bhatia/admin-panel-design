import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from 'react';
import { X, Upload } from 'lucide-react';
export function EditEmployeeModal({ employee, departments, designations, employees, onSave, onClose, }) {
    const [formData, setFormData] = useState({
        profilePicture: employee.profilePicture,
        firstName: employee.firstName,
        lastName: employee.lastName,
        mobile: employee.mobile,
        email: employee.email,
        gender: employee.gender,
        dateOfBirth: employee.dateOfBirth,
        department: employee.department,
        designation: employee.designation,
        dateOfJoining: employee.dateOfJoining,
        primaryReportingManager: employee.primaryReportingManager || '',
        secondaryReportingManager: employee.secondaryReportingManager || '',
    });
    const activeManagers = employees.filter(emp => emp.status === 'active' && emp.id !== employee.id);
    const handleSubmit = (e) => {
        e.preventDefault();
        onSave({
            ...formData,
            fullName: `${formData.firstName} ${formData.lastName}`,
            primaryReportingManager: formData.primaryReportingManager || null,
            secondaryReportingManager: formData.secondaryReportingManager || null,
        });
    };
    return (_jsx("div", { className: "fixed inset-0 bg-zinc-950/50 flex items-center justify-center z-50 p-4", children: _jsxs("div", { className: "bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-800 w-full max-w-2xl max-h-[90vh] overflow-hidden", children: [_jsxs("div", { className: "flex items-center justify-between px-6 py-4 border-b border-slate-200 dark:border-slate-800", children: [_jsx("h2", { className: "text-lg font-semibold text-slate-900 dark:text-white", children: "Edit Employee Profile" }), _jsx("button", { onClick: onClose, className: "p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors", children: _jsx(X, { className: "w-5 h-5 text-slate-600 dark:text-slate-400" }) })] }), _jsxs("form", { onSubmit: handleSubmit, className: "overflow-y-auto max-h-[calc(90vh-140px)]", children: [_jsxs("div", { className: "p-6 space-y-6", children: [_jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2", children: "Profile Photo" }), _jsxs("div", { className: "flex items-center gap-4", children: [_jsx("div", { className: "w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center", children: formData.profilePicture ? (_jsx("img", { src: formData.profilePicture, alt: "Profile", className: "w-full h-full rounded-full object-cover" })) : (_jsx(Upload, { className: "w-6 h-6 text-slate-400" })) }), _jsx("button", { type: "button", className: "px-4 py-2 text-sm font-medium text-cyan-600 hover:bg-cyan-50 dark:hover:bg-cyan-900/20 rounded-lg transition-colors", children: "Change Photo" })] })] }), _jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-4", children: [_jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2", children: "First Name" }), _jsx("input", { type: "text", value: formData.firstName, onChange: (e) => setFormData({ ...formData, firstName: e.target.value }), className: "w-full px-4 py-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500" })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2", children: "Last Name" }), _jsx("input", { type: "text", value: formData.lastName, onChange: (e) => setFormData({ ...formData, lastName: e.target.value }), className: "w-full px-4 py-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500" })] })] }), _jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-4", children: [_jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2", children: "Mobile Number" }), _jsx("input", { type: "tel", value: formData.mobile, onChange: (e) => setFormData({ ...formData, mobile: e.target.value }), className: "w-full px-4 py-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500" })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2", children: "Email" }), _jsx("input", { type: "email", value: formData.email, onChange: (e) => setFormData({ ...formData, email: e.target.value }), className: "w-full px-4 py-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500" })] })] }), _jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-4", children: [_jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2", children: "Gender" }), _jsxs("select", { value: formData.gender, onChange: (e) => setFormData({ ...formData, gender: e.target.value }), className: "w-full px-4 py-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500", children: [_jsx("option", { value: "Male", children: "Male" }), _jsx("option", { value: "Female", children: "Female" }), _jsx("option", { value: "Other", children: "Other" })] })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2", children: "Date of Birth" }), _jsx("input", { type: "date", value: formData.dateOfBirth, onChange: (e) => setFormData({ ...formData, dateOfBirth: e.target.value }), className: "w-full px-4 py-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500" })] })] }), _jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-4", children: [_jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2", children: "Department" }), _jsx("select", { value: formData.department, onChange: (e) => setFormData({ ...formData, department: e.target.value }), className: "w-full px-4 py-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500", children: departments.map(dept => (_jsx("option", { value: dept, children: dept }, dept))) })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2", children: "Designation" }), _jsx("select", { value: formData.designation, onChange: (e) => setFormData({ ...formData, designation: e.target.value }), className: "w-full px-4 py-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500", children: designations.map(des => (_jsx("option", { value: des, children: des }, des))) })] })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2", children: "Date of Joining" }), _jsx("input", { type: "date", value: formData.dateOfJoining, onChange: (e) => setFormData({ ...formData, dateOfJoining: e.target.value }), className: "w-full sm:w-1/2 px-4 py-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500" })] }), _jsxs("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-4", children: [_jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2", children: "Primary Reporting Manager" }), _jsxs("select", { value: formData.primaryReportingManager, onChange: (e) => setFormData({ ...formData, primaryReportingManager: e.target.value }), className: "w-full px-4 py-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500", children: [_jsx("option", { value: "", children: "None" }), activeManagers.map(emp => (_jsx("option", { value: emp.id, children: emp.fullName }, emp.id)))] })] }), _jsxs("div", { children: [_jsx("label", { className: "block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2", children: "Secondary Reporting Manager" }), _jsxs("select", { value: formData.secondaryReportingManager, onChange: (e) => setFormData({ ...formData, secondaryReportingManager: e.target.value }), className: "w-full px-4 py-2.5 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-cyan-500", children: [_jsx("option", { value: "", children: "None" }), activeManagers.map(emp => (_jsx("option", { value: emp.id, children: emp.fullName }, emp.id)))] })] })] })] }), _jsxs("div", { className: "flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-200 dark:border-slate-800", children: [_jsx("button", { type: "button", onClick: onClose, className: "px-4 py-2.5 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors", children: "Cancel" }), _jsx("button", { type: "submit", className: "px-4 py-2.5 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium transition-colors", children: "Save Changes" })] })] })] }) }));
}
