import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { useState } from 'react';
import { X, ArrowRight, UserPlus, Upload, ChevronDown } from 'lucide-react';
const STATUS_OPTIONS = [
    { key: 'new', label: 'New' },
    { key: 'assigned', label: 'Assigned' },
    { key: 'follow-up', label: 'Follow-up' },
    { key: 'quotations', label: 'Quotations' },
    { key: 'projected', label: 'Projected' },
    { key: 'invoiced', label: 'Ready to Invoice' },
    { key: 'sales', label: 'Converted' },
    { key: 'lost', label: 'Lost' },
];
export function BulkActionsBar({ selectedCount, users, onClearSelection, onMoveStatus, onAssignOwner, onBulkUpdate, }) {
    const [showStatusDropdown, setShowStatusDropdown] = useState(false);
    const [showOwnerDropdown, setShowOwnerDropdown] = useState(false);
    const closeAll = () => {
        setShowStatusDropdown(false);
        setShowOwnerDropdown(false);
    };
    return (_jsx("div", { className: "fixed bottom-6 left-1/2 -translate-x-1/2 z-50 animate-in slide-in-from-bottom-4 duration-300", children: _jsxs("div", { className: "flex items-center gap-2 px-4 py-3 bg-slate-900 dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-700", children: [_jsxs("div", { className: "flex items-center gap-2 pr-3 border-r border-slate-700", children: [_jsx("span", { className: "flex items-center justify-center min-w-[24px] h-6 px-2 rounded-full bg-cyan-500 text-white text-sm font-semibold", children: selectedCount }), _jsx("span", { className: "text-sm text-slate-300", children: "selected" }), _jsx("button", { onClick: onClearSelection, className: "p-1 hover:bg-slate-700 rounded transition-colors", children: _jsx(X, { className: "h-4 w-4 text-slate-400" }) })] }), _jsxs("div", { className: "flex items-center gap-1", children: [_jsxs("div", { className: "relative", children: [_jsxs("button", { onClick: () => { setShowStatusDropdown(!showStatusDropdown); setShowOwnerDropdown(false); }, className: "inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-white hover:bg-slate-700 rounded-lg transition-colors", children: [_jsx(ArrowRight, { className: "h-4 w-4" }), _jsx("span", { children: "Move Status" }), _jsx(ChevronDown, { className: "h-3 w-3" })] }), showStatusDropdown && (_jsxs(_Fragment, { children: [_jsx("div", { className: "fixed inset-0", onClick: () => setShowStatusDropdown(false) }), _jsx("div", { className: "absolute bottom-full left-0 mb-2 w-48 bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700 py-1 max-h-60 overflow-y-auto", children: STATUS_OPTIONS.map((status) => (_jsx("button", { onClick: () => { onMoveStatus?.(status.key); setShowStatusDropdown(false); }, className: "w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700", children: status.label }, status.key))) })] }))] }), _jsxs("div", { className: "relative", children: [_jsxs("button", { onClick: () => { setShowOwnerDropdown(!showOwnerDropdown); setShowStatusDropdown(false); }, className: "inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-white hover:bg-slate-700 rounded-lg transition-colors", children: [_jsx(UserPlus, { className: "h-4 w-4" }), _jsx("span", { children: "Assign Owner" }), _jsx(ChevronDown, { className: "h-3 w-3" })] }), showOwnerDropdown && (_jsxs(_Fragment, { children: [_jsx("div", { className: "fixed inset-0", onClick: () => setShowOwnerDropdown(false) }), _jsx("div", { className: "absolute bottom-full left-0 mb-2 w-56 bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700 py-1 max-h-60 overflow-y-auto", children: users.map((user) => (_jsxs("button", { onClick: () => { onAssignOwner?.(user.id); setShowOwnerDropdown(false); }, className: "w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700", children: [_jsx("div", { className: "h-6 w-6 rounded-full bg-slate-200 dark:bg-slate-600 flex items-center justify-center text-xs font-medium", children: user.fullName.charAt(0) }), user.fullName] }, user.id))) })] }))] }), _jsx("div", { className: "w-px h-6 bg-slate-700 mx-1" }), _jsxs("button", { onClick: () => { closeAll(); onBulkUpdate?.(); }, className: "inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-cyan-400 hover:bg-slate-700 rounded-lg transition-colors", children: [_jsx(Upload, { className: "h-4 w-4" }), _jsx("span", { children: "Bulk Update" })] })] })] }) }));
}
