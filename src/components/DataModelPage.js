import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useMemo } from 'react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { AppLayout } from '@/components/AppLayout';
import { EmptyState } from '@/components/EmptyState';
import { StepIndicator } from '@/components/StepIndicator';
import { NextPhaseButton } from '@/components/NextPhaseButton';
import { loadProductData } from '@/lib/product-loader';
export function DataModelPage() {
    const productData = useMemo(() => loadProductData(), []);
    const dataModel = productData.dataModel;
    const hasDataModel = !!dataModel;
    const stepStatus = hasDataModel ? 'completed' : 'current';
    return (_jsx(AppLayout, { children: _jsxs("div", { className: "space-y-6", children: [_jsxs("div", { className: "mb-8", children: [_jsx("h1", { className: "text-2xl font-semibold text-stone-900 dark:text-stone-100 mb-2", children: "Data Model" }), _jsx("p", { className: "text-stone-600 dark:text-stone-400", children: "Define the core entities and relationships in your product." })] }), _jsx(StepIndicator, { step: 1, status: stepStatus, isLast: !hasDataModel, children: !dataModel ? (_jsx(EmptyState, { type: "data-model" })) : (_jsxs("div", { className: "space-y-6", children: [_jsxs(Card, { className: "border-stone-200 dark:border-stone-700 shadow-sm", children: [_jsx(CardHeader, { children: _jsxs(CardTitle, { className: "text-lg font-semibold text-stone-900 dark:text-stone-100", children: ["Entities", _jsxs("span", { className: "ml-2 text-sm font-normal text-stone-500 dark:text-stone-400", children: ["(", dataModel.entities.length, ")"] })] }) }), _jsx(CardContent, { children: dataModel.entities.length === 0 ? (_jsx("p", { className: "text-stone-500 dark:text-stone-400", children: "No entities defined." })) : (_jsx("div", { className: "grid grid-cols-1 sm:grid-cols-2 gap-4", children: dataModel.entities.map((entity, index) => (_jsxs("div", { className: "bg-stone-50 dark:bg-stone-800/50 rounded-lg p-4", children: [_jsx("h3", { className: "font-semibold text-stone-900 dark:text-stone-100 mb-1", children: entity.name }), _jsx("p", { className: "text-stone-600 dark:text-stone-400 text-sm leading-relaxed", children: entity.description })] }, index))) })) })] }), _jsxs(Card, { className: "border-stone-200 dark:border-stone-700 shadow-sm", children: [_jsx(CardHeader, { children: _jsxs(CardTitle, { className: "text-lg font-semibold text-stone-900 dark:text-stone-100", children: ["Relationships", _jsxs("span", { className: "ml-2 text-sm font-normal text-stone-500 dark:text-stone-400", children: ["(", dataModel.relationships.length, ")"] })] }) }), _jsx(CardContent, { children: dataModel.relationships.length === 0 ? (_jsx("p", { className: "text-stone-500 dark:text-stone-400", children: "No relationships defined." })) : (_jsx("ul", { className: "space-y-2", children: dataModel.relationships.map((relationship, index) => (_jsxs("li", { className: "flex items-start gap-3", children: [_jsx("span", { className: "w-1.5 h-1.5 rounded-full bg-stone-400 dark:bg-stone-500 mt-2 shrink-0" }), _jsx("span", { className: "text-stone-700 dark:text-stone-300", children: relationship })] }, index))) })) })] }), _jsx("div", { className: "bg-stone-100 dark:bg-stone-800 rounded-md px-4 py-3", children: _jsxs("p", { className: "text-sm text-stone-600 dark:text-stone-400", children: ["To update the data model, run", ' ', _jsx("code", { className: "font-mono text-stone-800 dark:text-stone-200", children: "/data-model" }), ' ', "or edit the file directly at", ' ', _jsx("code", { className: "font-mono text-stone-800 dark:text-stone-200", children: "product/data-model/data-model.md" })] }) })] })) }), hasDataModel && (_jsx(StepIndicator, { step: 2, status: "current", isLast: true, children: _jsx(NextPhaseButton, { nextPhase: "design" }) }))] }) }));
}
